================================================================
GoE FERMION TESTS - RUNPOD COMMANDS (RTX 4090)
================================================================

STEP 1: Connect to RunPod
--------------------------
ssh root@157.157.221.29 -p 32658 -i ~/.ssh/id_ed25519


STEP 2: Run Tests (Choose ONE option below)
--------------------------------------------

OPTION A - ONE-LINER (Recommended):
------------------------------------
cd /workspace && apt-get update -qq && apt-get install -y -qq git python3-pip && pip3 install -q numpy scipy matplotlib pandas seaborn && pip3 install -q torch torchvision --index-url https://download.pytorch.org/whl/cu121 && git clone https://github.com/infolake/goe_framework.git 2>/dev/null || (cd goe_framework && git pull -q) && cd goe_framework/Shared_Resources/validation/fermion_models && python3 goe_fermion_statistical_tests_gpu.py


OPTION B - Automated Script:
-----------------------------
bash <(curl -sSL https://raw.githubusercontent.com/infolake/goe_framework/main/Shared_Resources/validation/fermion_models/setup_and_run_gpu.sh)


OPTION C - Manual Step-by-Step:
--------------------------------
cd /workspace
apt-get update && apt-get install -y git python3-pip
pip3 install numpy scipy matplotlib pandas seaborn
pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cu121
git clone https://github.com/infolake/goe_framework.git
cd goe_framework/Shared_Resources/validation/fermion_models
python3 goe_fermion_statistical_tests_gpu.py


================================================================
EXPECTED OUTPUT
================================================================

Total runtime: 30-60 seconds
Files generated: 7 (1 JSON + 6 images)

1. goe_gpu_statistical_tests_results.json
2. goe_gpu_tests_leptons.pdf
3. goe_gpu_tests_leptons.png
4. goe_gpu_tests_up_quarks.pdf
5. goe_gpu_tests_up_quarks.png
6. goe_gpu_tests_down_quarks.pdf
7. goe_gpu_tests_down_quarks.png


================================================================
VIEW RESULTS
================================================================

View JSON (formatted):
----------------------
cat goe_gpu_statistical_tests_results.json | python3 -m json.tool | less

Extract specific result:
------------------------
python3 -c "import json; data=json.load(open('goe_gpu_statistical_tests_results.json')); print(f\"Leptons MAPE: {data['sectors']['leptons']['basic_metrics']['MAPE']:.2f}%\")"

Download files to local:
-------------------------
scp -P 32658 -i ~/.ssh/id_ed25519 root@157.157.221.29:/workspace/goe_framework/Shared_Resources/validation/fermion_models/goe_gpu_*.{pdf,json} .


================================================================
EXPECTED PERFORMANCE (RTX 4090)
================================================================

Bootstrap per sector:
  Samples: 100,000
  Time: ~5-10 seconds
  Throughput: ~10-20k samples/sec

Permutation per sector:
  Tests: 100,000
  Time: ~5-10 seconds  
  Throughput: ~10-20k permutations/sec

Total (3 sectors): ~30-60 seconds
Speedup vs CPU: 100-200x faster


================================================================
TROUBLESHOOTING
================================================================

Check GPU:
----------
nvidia-smi

Verify PyTorch CUDA:
--------------------
python3 -c "import torch; print(f'CUDA available: {torch.cuda.is_available()}'); print(f'GPU: {torch.cuda.get_device_name(0) if torch.cuda.is_available() else None}')"

If CUDA not available:
----------------------
pip3 uninstall torch torchvision
pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cu121

Out of Memory:
--------------
Edit goe_fermion_statistical_tests_gpu.py
Line ~180: batch_size = 5000  (reduce from 10000)


================================================================
CONTACT
================================================================

GitHub: https://github.com/infolake/goe_framework
Issues: https://github.com/infolake/goe_framework/issues
Author: Dr. Guilherme de Camargo (camargo@phiq.io)

